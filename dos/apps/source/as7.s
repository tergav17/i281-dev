; AS7.S
; INSTRUCTION TABLE
; GAVIN TERSTEEG, 2024
; SDMAY24-14

END	= 0
BASIC	= 1 ; INSTRUCTION WITH NO ARGS
ARITH	= 2 ; ARITHMETIC INSTRUCTIONS AND MOV, DST<-SRC
IMM	= 3 ; IMMEDIATE INSTRUCTION, REGISTERS + CONSTANT
PNT	= 4 ; SINGLE POINTER INSTRUCTION
PNTO	= 5 ; SINGLE POINTER WITH REGISTER OFFSET
MLOAD	= 6 ; LOAD STYLE INSTRUCTION
MLOADF	= 7 ; LOADF STYLE INSTRUCTION
MSTORE	= 8 ; STORE STYLE INSTRUCTION
MSTOREF	= 9 ; STOREF STYLE INSTRUCTION
SINGLE	= 10 ; SINGLE REGISTER INSTRUCTION
BRANCH	= 11 ; BRANCH INSTRUCTION
PSEUDO	= 12 ; "FAKE" INSTRUCTIONS R = (R, R)
BJUMPR	= 13 ; JUMP REGISTER INSTRUCTION
MCACHE	= 14 ; CACHE INSTRUCTION
MWRITE	= 15 ; WRITE INSTRUCTION
SINGLEI	= 16 ; SINGLE REGISTER PLUS IMMEDIATE INSTRUCTION

	; INSTRUCTION TABLE BANK 0
.BANK	BD
.DATA
ITAB0_B	= BD

.DEFL BYTE INAME0	0,0,0,0,0,0,0,0

		;	MNEMONIC	TYPE	OPCODE	
.DEFL BYTE ISRTAB0	"NOOP",0,	BASIC,	0X20,
			"INPUTC",0,	PNT,	0X10,
			"INPUTD",0,	PNT,	0X12,
			"INPUTCF",0,	PNTO,	0X11,
			"INPUTDF",0,	PNTO,	0X13,
			"MOV",0,	ARITH,	0X20,
			"LOADI",0,	IMM,	0X30,
			"ADD",0,	ARITH,	0X40,
			"ADDI",0,	IMM,	0X50,
			"SUB",0,	ARITH,	0X60,
			"SUBI",0,	IMM,	0X70,
			"LOAD",0,	MLOAD,	0X80,
			"LOADF",0,	MLOADF,	0X90,
			"STORE",0,	MSTORE,	0XA0,
			"STOREF",0,	MSTOREF,0XB0,
			END

BD	= BD+1

	; INSTRUCTION TABLE BANK 1
.BANK	BD
.DATA
ITAB1_B	= BD

.DEFL BYTE INAME1	0,0,0,0,0,0,0,0

		;	MNEMONIC	TYPE	OPCODE	
.DEFL BYTE ISRTAB1	"SHIFTL",0,	PSEUDO,	0X40,
			"SHIFTR",0,	SINGLE,	0XC1,
			"CMP",0,	ARITH,	0XD0,
			"CACHE",0,	MCACHE,	0X14,
			"WRITE",0,	MWRITE,	0X12,
			"BANK",0,	SINGLEI,0X00,
			"BRC",0,	BRANCH,	0XF0,
			"BRAE",0,	BRANCH,	0XF0,
			"BRNC",0,	BRANCH,	0XF1,
			"BRB",0,	BRANCH,	0XF1,
			"BRO",0,	BRANCH,	0XF2,
			"BRNO",0,	BRANCH,	0XF3,
			"BRN",0,	BRANCH,	0XF4,
			"BRNN",0,	BRANCH,	0XF5,
			"BRP",0,	BRANCH,	0XF5,
			"BRZ",0,	BRANCH,	0xF6,
			"BRE",0,	BRANCH,	0xF6,
			END

BD	= BD+1

	; INSTRUCTION TABLE BANK 2
.BANK	BD
.DATA
ITAB2_B	= BD

.DEFL BYTE INAME2	0,0,0,0,0,0,0,0

		;	MNEMONIC	TYPE	OPCODE	
.DEFL BYTE ISRTAB2	"BRNZ",0,	BRANCH,	0XF7,
			"BRNE",0,	BRANCH,	0XF7,
			"BRA",0,	BRANCH,	0XF8,
			"BRBE",0,	BRANCH,	0XF9,
			"BRG",0,	BRANCH,	0XFA,
			"BRGE",0,	BRANCH,	0XFB,
			"BRL",0,	BRANCH,	0XFC,
			"BRLE",0,	BRANCH,	0XFD,
			"JUMPR",0,	BJUMPR,	0XFE,
			"JUMP",0,	BRANCH,	0XFF,
			"NOR",0,	ARITH,	0XE0,
			"NORI",0,	IMM,	0XC0,
			END

BD	= BD+1